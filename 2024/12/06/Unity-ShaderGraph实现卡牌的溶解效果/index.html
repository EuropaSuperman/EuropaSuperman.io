<!DOCTYPE html>
<html>
  
<head>
  <meta charset="utf-8">
  <meta name="author" content="EuropaSuperman" />
  
  
  <title>Unity ShaderGraph实现发光溶解效果（一） | Europa Superman &#39;s blog</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta name="keywords" content="Hexo, Theme-AD" />
  

  
  <meta name="description" content="木卫二超人的博客">

  

  
    <script src="//cdn.jsdelivr.net/npm/leancloud-storage@3.11.1/dist/av-min.js" async></script>
  

  
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script>
  

  

  

  <script>
  // theme-ad's config script
  // it can be used in every script
  
  window.AD_CONFIG = {
    leancloud: {"appid":"Hyq9wkH495DgNHWhDQCOfQSp-gzGzoHsz","appkey":"WaR7nrzhliHj9aVwdQzkdlGd","comment":false,"count":true},
    welcome: {"enable":true,"interval":30},
    start_time: "2024-12-03",
    passwords: ["efe07af7441da2b69c4a41e42e73be4db47f66010a56900788a458354a7373ec", ],
    is_post: true,
    lock: false,
    author: "EuropaSuperman",
    share: {"twitter":false,"facebook":false,"weibo":false,"qq":false,"wechat":false},
    mathjax: true,
    page_type: "",
    root: "/EuropaSuperman.io/"
  };
</script>

  
<script src="/EuropaSuperman.io/vendor/sha256.min.js"></script>
<script src="/EuropaSuperman.io/js/auth.js"></script>
<script src="/EuropaSuperman.io/js/index.js"></script>
<script src="/EuropaSuperman.io/vendor/qrcode.min.js"></script>


  
    <link rel="icon" href="/EuropaSuperman.io/images/favicon.ico">
    <link rel="apple-touch-icon" href="/EuropaSuperman.io/images/touch-icon.png">
  

  <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  
<link rel="stylesheet" href="/EuropaSuperman.io/css/index.css">
<link rel="stylesheet" href="/EuropaSuperman.io/styles/components/highlight/highlight.css">


  
</head>
  <body>
    <header class="site-header">
  <div class="site-header-brand">
    
      <span class="site-header-brand-title">
        <a href="/EuropaSuperman.io/">EuropaSuperman</a>
      </span>
    
    
      <span class="site-header-brand-motto"> | 安静写些东西</span>
    
  </div>
  <div class="site-header-right">
    <nav class="site-header-navigation">
      
        <a href="/EuropaSuperman.io/" target="_self">首页</a>
      
        <a href="/EuropaSuperman.io/archives/" target="_self">归档</a>
      
        <a href="/EuropaSuperman.io/tags/" target="_self">标签</a>
      
        <a href="/EuropaSuperman.io/categories/" target="_self">分类</a>
      
        <a href="/EuropaSuperman.io/friends/" target="_self">友链</a>
      
        <a href="/EuropaSuperman.io/about/" target="_self">关于</a>
      
    </nav>
    <div class="site-header-btn">
      
        <a href="https://github.com/europasuperman/" target="_blank" id="site-github">
          <i class="fa fa-github-alt"></i>
        </a>
      
      <a href="javascript:void(0);" id="site-search">
        <i class="fa fa-search"></i>
      </a>
      <a href="javascript:void(0);" id="site-nav-btn">
        <i class="fa fa-ellipsis-v"></i>
      </a>
    </div>
  </div>
</header>
<nav class="table-content" id="site-nav">
  <div class="table-content-title">
    <span>导航</span>
  </div>
  <div class="table-content-main">
    <ol class="toc">
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/" target="_self">
            首页
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/archives/" target="_self">
            归档
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/tags/" target="_self">
            标签
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/categories/" target="_self">
            分类
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/friends/" target="_self">
            友链
          </a>
        </li>
      
        <li class="toc-item">
          <a href="/EuropaSuperman.io/about/" target="_self">
            关于
          </a>
        </li>
      
    </ol>
  </div>
</nav>
<div id="site-process"></div>
    <main>
      
  <div class="passage">
  <div class="passage-meta">
    <span>
      <i class="fa fa-calendar"></i>2024-12-06
    </span>
    
    
      <span>
        | <i class="fa fa-unlock-alt"></i>UNLOCK
      </span>
    
  </div>
  <h1 class="passage-title">
    Unity ShaderGraph实现发光溶解效果（一）
  </h1>
  
  <article class="passage-article">
    <p>Unity版本：2022.3.45fc1</p>
<h3 id="第一步，创建一个2D的URP项目"><a href="#第一步，创建一个2D的URP项目" class="headerlink" title="第一步，创建一个2D的URP项目"></a>第一步，创建一个2D的URP项目</h3><p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/1.png" alt="图片"><br><br><br><br></p>
<h3 id="第二步，Global-Volume"><a href="#第二步，Global-Volume" class="headerlink" title="第二步，Global Volume"></a>第二步，Global Volume</h3><p>辉光效果是一个后处理效果，为了实现它，需要创造一个全局体积（Global Volume）。</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/2.png" alt="图片"><br><br><br><br></p>
<p>然后，在Global Volume的inspector面板new一个新的Volue Profile。</p>
<p>添加Override，选择Post-processing（后处理），选择Bloom（辉光或者说泛光），并设置为All。</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/3.png" alt="图片"><br><br><br><br></p>
<p>着重介绍前三个属性：</p>
<p>Threshold是一个阈值，只有HDR颜色的强度超过这个阈值，才会对该部分进行后处理</p>
<p>Intensity是强度，这个会影响到全局的泛光强度。</p>
<p>Scatter是散射，影响的是泛光的发光范围。</p>
<h3 id="第三步，创造Shader-Graph和用于演示的物体"><a href="#第三步，创造Shader-Graph和用于演示的物体" class="headerlink" title="第三步，创造Shader Graph和用于演示的物体"></a>第三步，创造Shader Graph和用于演示的物体</h3><p>创建了一个2DSprite物体，图片资源大家可以选择自己喜欢的。</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/4.png" alt="图片"><br><br><br><br></p>
<p>右键Create-&gt;Shader Graph-&gt;URP-&gt;Unlit Shader Graph</p>
<p>创造一个ShaderGraph，这里命名为Dissolve，并用其创建一个material，命名为matDissolve。</p>
<h6 id="溶解效果的原理"><a href="#溶解效果的原理" class="headerlink" title="溶解效果的原理"></a>溶解效果的原理</h6><p>溶解效果的实现原理其实是通过一个平滑的噪声来作为片元的alpha值（此处的alpha值并非透明度，而是一个参数），不同的片元会有不同的alpha值，而相邻片元的alpha值是平滑的。在外部定义一个0到1之间的溶解值，只要片元的alpha值高于这个值，就将其裁剪。这样的话只要平滑地修改溶解值，着色器就会平滑地裁剪掉相应的片元，于是就达到了溶解的效果。</p>
<hr>
<p>首先进行主纹理的采样，创建一个主纹理外部变量，将其默认值设置为你想要的图片，经过采样节点后链接到片元着色器。</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/5.png" alt="图片"><br><br><br><br></p>
<p>创建一个simple noise节点，为了减小噪声的变化速度，我们将scale设置为20</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/6.png" alt="图片"><br><br><br><br></p>
<p>与此同时，在Graph Inspector界面中，将Surface Type设置为Opaque，并勾选Alpha Clipping</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/7.png" alt="图片"><br><br><br><br></p>
<p>添加外部float变量:溶解值，为了方便起见，设置Mode为slider（滑动条），最大值和最小值分别设置为0和1，值得注意的是，Reference不能设置为中文，需要手动设置成英文。</p>
<p>将溶解值链接到Alpha Clip Threshold上。</p>
<p><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/8.png" alt="图片"><br><br><br><br></p>
<p>于是，我们可以看到阶段性的成果<br><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/9.png" alt="图片"><br><br><br><br></p>
<p>完整的Shader Graph如下<br><img src="/EuropaSuperman.io/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/10.png" alt="图片"><br><br><br><br></p>

  </article>
  <aside class="table-content" id="site-toc">
  <div class="table-content-title">
    <i class="fa fa-arrow-right fa-lg" id="site-toc-hide-btn"></i>
    <span>目录</span>
  </div>
  <div class="table-content-main">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E6%AD%A5%EF%BC%8C%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA2D%E7%9A%84URP%E9%A1%B9%E7%9B%AE"><span class="toc-text">第一步，创建一个2D的URP项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5%EF%BC%8CGlobal-Volume"><span class="toc-text">第二步，Global Volume</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E6%AD%A5%EF%BC%8C%E5%88%9B%E9%80%A0Shader-Graph%E5%92%8C%E7%94%A8%E4%BA%8E%E6%BC%94%E7%A4%BA%E7%9A%84%E7%89%A9%E4%BD%93"><span class="toc-text">第三步，创造Shader Graph和用于演示的物体</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-text">溶解效果的原理</span></a></li></ol></li></ol></li></ol></li></ol>
  </div>
</aside>
  
    <aside class="passage-copyright">
      <div>本文作者: 木卫二超人</div>
      
        <div>
          原文链接: 
          <a href="" target="_blank">https://github.com/EuropaSuperman/EuropaSuperman.io.git/2024/12/06/Unity-ShaderGraph%E5%AE%9E%E7%8E%B0%E5%8D%A1%E7%89%8C%E7%9A%84%E6%BA%B6%E8%A7%A3%E6%95%88%E6%9E%9C/</a>
        </div>
      
      <div>
        版权声明: 本博客所有文章除特别声明外, 均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议. 转载请注明出处!
      </div>
    </aside>
  
  
</div>

    </main>
    
    <div class="site-footer-wrapper">
  <footer class="site-footer">
    
      
        <div class="site-footer-col">
          <h5 class="site-footer-title">博客推荐</h5>
          
            <span class="site-footer-item">
              <a href="https://neroumu.moe" target="_blank">neroumu</a>
            </span>
          
        </div>
      
    
    <div class="site-footer-info">
      <i class="fa fa-clock-o"></i> 本站已稳定运行<span id="site-time"></span>
    </div>
    
      <div class="site-footer-info">
        <i class="fa fa-paw"></i> 您是本站第 <span id="site-count"></span> 位访客
      </div>
    
    
      <div class="site-footer-info">
        <i class="fa fa-at"></i> Email: europasuperman@foxmail.com
      </div>
    
    <div class="site-footer-info">
      <i class="fa fa-copyright"></i> 
      2019 <a href="https://github.com/dongyuanxin/theme-ad/" target="_blank">Theme-AD</a>.
      Created by <a href="https://godbmw.com/" target="_blank">GodBMW</a>.
      All rights reserved.
    </div>
  </footer>
</div>
    <div id="site-layer" style="display:none;">
  <div class="site-layer-content">
    <div class="site-layer-header">
      <span class="site-layer-header-title" id="site-layer-title"></span>
      <i class="fa fa-close" id="site-layer-close"></i>
    </div>
    <div class="site-layer-body" id="site-layer-container">
      <div class="site-layer-input" id="site-layer-search" style="display: none;">
        <div class="site-layer-input-choose">
          <a href="javascript:void(0);" title="Change Search Engine">Google</a>
        </div>
        <input type="text">
        <i class="fa fa-search"></i>
      </div>
      
      <div id="site-layer-welcome" style="display:none;"></div>
    </div>
  </div>
</div>
    

<div class="bottom-bar">
  <div class="bottom-bar-left">
    <a href="javascript:void(0);" data-enable="false">
      <i class="fa fa-arrow-left"></i>
    </a>
    <a href="/EuropaSuperman.io/2024/12/03/StringPool/" data-enable="true">
      <i class="fa fa-arrow-right"></i>
    </a>
  </div>
  <div class="bottom-bar-right">
    <a href="javascript:void(0);" data-enable="true" id="site-toc-show-btn">
      <i class="fa fa-bars"></i>
    </a>
    
    <a href="javascript:void(0);" id="site-toggle-share-btn">
      <i class="fa fa-share-alt"></i>
    </a>
    
    <a href="javascript:void(0);" id="back-top-btn">
      <i class="fa fa-chevron-up"></i>
    </a>
  </div>
</div>
    <div id="share-btn">
  
  
  
  
  
</div>
    





    
  </body>
</html>